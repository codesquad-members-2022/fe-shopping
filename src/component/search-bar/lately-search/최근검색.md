# 최근검색어 구현 설계도

## focus, blur 이벤트를 통해 목록 노출, 숨김 구현

목록이 출력되는 박스는 이후에 추천 검색어에서 재활용 할 것이기 때문에 따로 옵저버를 통해 구현하기.  
쿠팡은 검색을 실행할 때 검색목록창이 사라지므로 이 때에도 목록을 숨기는 기능을 구현한다.

---

## 로컬 스토리지 활용

로컬 스토리지에 ```setItem()```을 통해 최근 검색어를 저장한다.  
```JSON.stringfy()```를 이용해 배열 모양의 문자열로 저장한 뒤, 새로운 검색어가 추가될 때마다 getItem을 통해 가져온다.  
그 뒤 ```JSON.parse()```를 통해 배열로 변환 후 데이터를 추가하여 로컬 스토리지에 덮어쓴다.  
이 때 배열의 length를 통해 검색어 저장량을 확인 후 최대값을 초과하면 `pop()`한다.  

---

## 데이터 추가, 삭제 시점
최근 검색어 기능은 검색이 동작한 이후에 데이터를 추가하므로 검색 이벤트가 발생 후에 데이터를 검사하여 수정을 진행한다.

---

## 추가 구현할 것

중복된 검색어가 존재할 시 이전 검색내용은 삭제후 최상단으로 올리기.

-[ ] 현재 미구현