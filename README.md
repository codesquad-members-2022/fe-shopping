# fe-shopping

## to do

-   [ ] 쿠팡 쇼핑몰 메인페이지 UI

    -   [x] SASS를 사용
    -   [ ] 데이터는 목데이터로 처리

-   [ ] 검색 자동완성 기능

    -   [x] 검색 창이 focus 되면, '최근 검색어'가 노출된다.
    -   [x] 글자를 입력하면 자동 완성된 결과를 검색창 아래 노출한다.
    -   [x] 일치하는 글자는 하이라이트 표시한다.
    -   [x] 글자를 입력할 때와 삭제할 때 모두 동작한다.
    -   [x] 글자를 입력하다가 500ms 이상 글자 입력이 더 들어오지 않을 때만 데이터 요청
    -   [ ] 서버에서 데이터를 가져오기
    -   [x] 키보드 방향키로 목록에서 현재 가리키는 아이템 표시하기
    -   [x] 이동할 때마다 입력창에 자동완성 글자가 표시된다.
    -   [ ] 목록에 hover 시 밑줄, 파란색으로 표시

-   [ ] 검색 카테고리 지정

    -   [ ] 전체를 클릭하면 하단에 카테고리가 애니메이션으로 휘리릭 펼쳐진다.
    -   [ ] 카테고리를 선택하면 그것에 맞는 검색을 할 수 있다.
    -   [ ] 실제 동작은 하지 않아도 된다.

-   [ ] 캐로셀 기능

    -   [ ] 일정 시간 간격으로 콘텐츠가 자동으로 바뀐다.
    -   [ ] 콘텐츠가 바뀌면 오른쪽 박스 부분 하이라이팅도 바뀐다.
    -   [ ] 오른쪽 박스 부분을 마우스로 지나가면 해당 내용으로 콘텐츠와 하이리이팅이 바뀐다.
    -   [ ] 마우스가 빠르게 지나가면 내용이 변경되지 않는다.

## 진행 과정

### css 방법론

아침 스크럼 시간에 css 방법론 얘기가 나온 김에 적용해봤다. 먼저 BEM 방식으로 클래스 이름을 작성해보려고 했다. 마땅한 이름이 생각나지 않아 OOCSS 방법으로 재사용할 수 있는 것들을 우선 만들었다. 한참 OOCSS 방식으로 작성했더니 이젠 OOCSS로 짓기 애매한, 구체적으로 어디의 누구인지 적어주는게 더 좋아보이는 것들이 보였다. 결과적으로 BEM 방식과 OOCSS 방식이 섞인 형태가 되었다. 그룹 리뷰 시간에 이에 대해 말을 했더니 유지보수가 잘 될 수 있도록 읽기 쉽게 작성하는 게 목적이니 섞여도 읽기 좋으면 괜찮지 않을까라는 답을 들었다.

### sass

-   css 파일은 직접 건드리지 않고 sass에서 파일을 분리해 스타일들을 작성하므로 css파일을 하나로 두었다.
-   처음에는 css를 작성하던 것처럼 작성해서 sass 사용의 장점을 느끼지 못했는데, 들여쓰기와 &를 사용해 중복을 줄이고 관련된 부분의 스타일들을 뭉쳐놓으니 읽기 좋았다.
-   컴파일된 css 파일을 보면 `-webkit...`, `-ms...` 같은 부분이 추가되어 있는데, 알아서 속성 적용이 안되는 브라우저를 신경써주니 편리하다.

### 문제

-

```
.header
    grid-template-columns: 1fr 9fr;
    span
        font-size: $main-font-size
    li
        font-size: $main-font-size
```

~~`.header`에 `font-size`를 줘서 `span`, `li`에 직접 `font-size`를 안사용하고 싶은데, 상속이 안된다..~~  
최상위 루트 `html`에 font-size를 지정해야하는데 `*`에 font-size를 적용해서 생겼던 문제!

-

```
.today-items
    grid-template-columns: repeat(4, 1fr)
```

위와 같이 작성하면 컴파일된 css 파일에 빨간줄이 뜬다. 그래서 `1fr 1fr 1fr 1fr`로 적었다.

-   연관검색어 목록에서 방향키 이동했을 때 갑자기 다시 처음으로 돌아가는 현상
    -   **(해결)** 방향키를 누르면 목록의 검색어로 입력이 바뀌면서 input 이벤트가 발생해서 생기는 문제  
        (이전) curIdx를 show에서 초기화했더니 input 이벤트가 발생하면서 다시 curIdx가 처음으로 돌아갔음  
        (수정 후) curIdx를 hide에서 초기화함. 이렇게 해도 방향키를 누르면 input 이벤트가 발생하면서 목록을 새로 렌더링하므로 현재 가리키고 있던 아이템을 그대로 가리키도록 curIdx가 -1이 아닐 경우 focusItem()을 하도록 함
