# fe-shopping

## 요구사항

### 검색창

- [ ]  검색창에 focus를 주면 최근 검색어가 노출된다.
    - input을 클릭하면 최근 검색어 목록이 뜨고, 가장 위에 있는 검색어가 파란색으로 표시 / 밑줄 처리된다.
    - 최근 검색어도 방향키 이동이 가능해야 한다.
    - 최근 검색어 기능을 끄면 기능을 끈 동안 검색한 것들은 저장되지 않는다.
        - 최근 검색어 저장 기능이 꺼져 있습니다. 문구 노출
    - 검색어 기능을 다시 켜면 검색어 저장 기능을 끄기 전에 존재했던 목록들을 그대로 불러온다.
    - 최근 검색어가 없을 경우 input을 눌러도 최근 검색어 창이 노출되지 않는다.
- [ ]  검색어를 입력하면 최근 검색어 콘텐츠가 사라진다.
- [ ]  글자를 입력하기 시작하면 자동완성된 결과가 노출된다.
- [ ]  일치하는 글자는 하이라이트 되어 보여진다.
- [ ]  검색창에 내용을 추가, 삭제할 때 모두 일치하는 자동완성 결과가 나와야 한다.
- [ ]  500ms 이상 글자를 입력하지 않고 머물러 있을 때만 서버에서 데이터를 가져온다.
- [ ]  키보드 방향키로 이동시 위/아래로 하나씩 이동하며, 자동완성 글자가 선택되어 입력창에 보여진다.
    - 방향키로 이동할 경우 자동완성 목록 중 해당하는 것이 밑줄처리되며 input 값으로 보여진다.
    - 다만 목록에서 다시 input으로 이동할 경우 사용자가 입력하던 값이 그대로 나와야 한다.
- [ ]  왼쪽의 ‘전체'를 클릭하면 하단에 카테고리가 애니메이션 효과와 함께 펼쳐진다.
- [ ]  카테고리를 선택하면 그것에 맞는 검색이 진행된다. (실제 동작은 되지 않아도 된다.)

### 메인 배너

- [ ]  6개의 콘텐츠가 자동으로 바뀐다. (2초마다 한번씩)
- [ ]  상품 목록을 마우스로 지나가면 해당 내용으로 보여진다.
- [ ]  마우스가 빠르게 이동할 때는 내용이 변경되지 않는다. (임의 시간 지정)

## 구현 내용

### HTML 작성

- 메인 배너까지의 HTML을 작성하고 SCSS를 사용해 스타일링했다.
- SCSS에서 상속은 처음 사용해보았는데, `@extend`를 사용할 경우 컴파일했을 때 연관성이 부여되므로 연관성이 있는 것들에 공통적인 스타일을 부여할 때는 `@extend`를 사용하고 그렇지 않은 경우라면 `mixin`을 사용하는 것이 좋다고 해서 용도에 맞게 사용하려고 노력했다.
- Image Sprite를 사용해 구현된 부분이 있어서 관련 내용을 찾아보고 따라서 적용해보았다.
   

### Core Component

- 모든 컴포넌트의 틀이 되는 `Component`를 프로토타입을 사용해서 구현하고, 모든 컴포넌트에서 이를 상속받아 사용하도록 했다. 컴포넌트 구조는 [블로그 글](https://junilhwang.github.io/TIL/Javascript/Design/Vanilla-JS-Component/#_5-%E1%84%8F%E1%85%A5%E1%86%B7%E1%84%91%E1%85%A9%E1%84%82%E1%85%A5%E1%86%AB%E1%84%90%E1%85%B3-%E1%84%87%E1%85%AE%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AF) 을 참고했다.
   

### 검색창 컴포넌트

- 지난번에는 굳이 필요하지 않은 부분까지 컴포넌트로 구현하고, 또 너무 세세하게 나눴어서 이번에는 필요한 부분만 컴포넌트로 구현해봐야겠다고 생각했다. 검색창 부분을 컴포넌트 구조로 변환해서 사용했고 총 3가지 컴포넌트로 구성되어 있다.


- `SearchForm`
  - 카테고리를 선택하는 `SelectBox`, 검색어를 입력받는 `InputBox`를 포함하는 폼을 렌더링한다.
  - 두 컴포넌트는 모두 클릭 또는 `focus`되었을 때 하단에 창을 띄우는데, 이 로직이 유사해서 부모 컴포넌트인 `SearchForm`에서 해당 부분을 정의한 후 하위 컴포넌트에서 `props`로 받아서 쓰도록 했다.
   

- `SelectBox`
  - 클릭했을 때 전체 카테고리 목록을 띄운다.
  - 다시 한번 클릭하거나 포커스에서 벗어나면 목록 창이 없어진다.
   

- `InputBox`
  - 입력창을 클릭했을 때 최근 검색어가 있다면 최근 검색어 창을 띄우고, 없다면 띄우지 않는다.
  - 포커스에서 벗어나면 창이 없어진다.
  - 포커스 이벤트를 등록할 때 input이 아니라 상위 요소인 폼에 등록했는데 이벤트가 발생하지 않았다. 찾아보니 `focus`와 `blur`는 이벤트 버블링이 발생하지 않아서 자기 자신의 이벤트만 작동시키기 때문에 `focusin` 또는 `focusout`을 사용하거나 `useCapture` 옵션을 사용해서 해결하면 된다고 해서 `useCapture` 옵션을 넣어주는 것으로 해결할 수 있었다.
   

### BottomWindow 컴포넌트

- 카테고리를 클릭했을 때나 입력창을 클릭했을 때 등의 경우에 하단에 나오는 창을 컴포넌트로 만들고, 동일한 방식으로 작동하는 것들에서 계속해서 재사용할 수 있도록 작성했다.
- 전체 카테고리를 눌렀을 때 나오는 창도 이 컴포넌트를 사용해서 구현해볼 계획이다.
